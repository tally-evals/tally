import type { DemandLetterQuestion } from '../../tools/demandLetter';

export interface QuestionConfig extends DemandLetterQuestion {
	contextDependencies: number[];
	showWhenChoiceEquals?: {
		dependsOnOrder: number;
		values: string[];
	};
}

// Trimmed set: Q1-13, 16-23. Q10/Q21 converted to open text.
export const QUESTIONS: QuestionConfig[] = [
	{
		id: 'q1',
		order: 1,
		text: "Hi, I'm Adri. I'm here to help you create a demand letter. To get started, I just need to ask some questions to understand the situation better. Select the option that best describes your dispute:",
		type: 'choice',
		options: [
			'Property owned or rented',
			'Goods bought or sold',
			'Services purchased or performed',
			'A contract',
			'A business relationship',
			'A family or personal relationship',
			'An injury',
			'Something that happened at work',
			'Something else',
		],
		validation: { type: 'text', required: true },
		contextDependencies: [],
	},
	{
		id: 'q2',
		order: 2,
		text: 'Are you here on behalf of yourself, a business, a law firm, or someone else?',
		type: 'choice',
		options: ['Myself', 'A business', 'Law firm representing client', 'Someone Else'],
		validation: { type: 'text', required: true },
		contextDependencies: [1],
	},
	{
		id: 'q3',
		order: 3,
		text: "What's your name?",
		type: 'open',
		validation: { type: 'text', required: true, minLength: 2 },
		contextDependencies: [2],
		showWhenChoiceEquals: { dependsOnOrder: 2, values: ['Myself'] },
	},
	{
		id: 'q4',
		order: 4,
		text: "What's the name of the business?",
		type: 'open',
		validation: { type: 'text', required: true, minLength: 2 },
		contextDependencies: [2],
		showWhenChoiceEquals: { dependsOnOrder: 2, values: ['A business'] },
	},
	{
		id: 'q5',
		order: 5,
		text: "What's the name of the client you're representing in this matter?",
		type: 'open',
		validation: { type: 'text', required: true, minLength: 2 },
		contextDependencies: [2],
		showWhenChoiceEquals: { dependsOnOrder: 2, values: ['Law firm representing client'] },
	},
	{
		id: 'q6',
		order: 6,
		text: "What's the name of the person you're representing in this matter?",
		type: 'open',
		validation: { type: 'text', required: true, minLength: 2 },
		contextDependencies: [2],
		showWhenChoiceEquals: { dependsOnOrder: 2, values: ['Someone Else'] },
	},
	{
		id: 'q7',
		order: 7,
		text: 'Who will receive this letter (the other person\'s name or their business name)?',
		type: 'open',
		validation: { type: 'text', required: true, minLength: 2 },
		contextDependencies: [1, 2, 3, 4, 5, 6],
	},
	{
		id: 'q8',
		order: 8,
		text: 'What is your relationship with the other party (how do you know them)?',
		type: 'open',
		validation: { type: 'text', required: true, minLength: 5 },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7],
	},
	{
		id: 'q9',
		order: 9,
		text: "Let's start with what happened. Please tell me your side of the story. You can include as many details as you want.",
		type: 'open',
		validation: { type: 'text', required: true, minLength: 5 },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8],
	},
	{
		id: 'q10',
		order: 10,
		text: 'Please add any key events and dates I should know about',
		type: 'open',
		validation: { type: 'text', required: false },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9],
	},
	{
		id: 'q11',
		order: 11,
		text: 'Does the other party owe you money?',
		type: 'choice',
		options: ['Yes', 'No'],
		validation: { type: 'text', required: true },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9],
	},
	{
		id: 'q12',
		order: 12,
		text: 'How much does the other party owe you?',
		type: 'open',
		validation: { type: 'currency', required: false },
		contextDependencies: [2, 3, 4, 5, 6, 7, 8, 9, 11],
		showWhenChoiceEquals: { dependsOnOrder: 11, values: ['Yes'] },
	},
	{
		id: 'q13',
		order: 13,
		text: "When was it supposed to be paid? (If you're not sure, that's okay too)",
		type: 'open',
		validation: { type: 'text', required: false },
		contextDependencies: [2, 3, 4, 5, 6, 7, 8, 9, 11, 12],
		showWhenChoiceEquals: { dependsOnOrder: 11, values: ['Yes'] },
	},
	{
		id: 'q16',
		order: 16,
		text: "Can you tell me about any ways you've been negatively affected by what the other party did or didn't do? If there haven't been any negative impacts, it's completely okay to say so.",
		type: 'open',
		validation: { type: 'text', required: false },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9],
	},
	{
		id: 'q17',
		order: 17,
		text: 'What do you think would be a fair way to resolve this dispute? This can include money, as well as non-monetary things like a positive review, product replacement, or an apology.',
		type: 'open',
		validation: { type: 'text', required: true, minLength: 5 },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9, 16],
	},
	{
		id: 'q18',
		order: 18,
		text: 'Have you and the other person discussed this dispute before now?',
		type: 'choice',
		options: ['Yes', 'No'],
		validation: { type: 'text', required: true },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9],
	},
	{
		id: 'q19',
		order: 19,
		text: "Okay, can you tell me what was discussed? It's helpful for me to know the main points, how you communicated (like text, email, etc.), and when it happened.",
		type: 'open',
		validation: { type: 'text', required: false, minLength: 5 },
		contextDependencies: [2, 3, 4, 5, 6, 7, 8, 9, 18],
		showWhenChoiceEquals: { dependsOnOrder: 18, values: ['Yes'] },
	},
	{
		id: 'q20',
		order: 20,
		text: 'Is there anything else on your mind that you feel is important for me to know?',
		type: 'open',
		validation: { type: 'text', required: false },
		contextDependencies: [1, 9, 16, 17],
	},
	{
		id: 'q21',
		order: 21,
		text: 'When do you want a response to your letter?',
		type: 'open',
		validation: { type: 'text', required: true, minLength: 2 },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9, 17],
	},
	{
		id: 'q22',
		order: 22,
		text: "What is your email address (the sender's contact information)?",
		type: 'open',
		validation: { type: 'email', required: true, minLength: 5 },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9],
	},
	{
		id: 'q23',
		order: 23,
		text: "What is the recipient's email address (where we'll send the demand letter)?",
		type: 'open',
		validation: { type: 'email', required: true, minLength: 5 },
		contextDependencies: [1, 2, 3, 4, 5, 6, 7, 8, 9],
	},
];


