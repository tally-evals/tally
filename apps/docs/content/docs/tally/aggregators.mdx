---
title: Aggregators
description: Turning granular results into high-level trends.
---

In Tally, **Aggregators** represent the **Statistical Lens**. While individual [Evals](/docs/tally/evals) tell you how a single turn performed, Aggregators summarize thousands of those data points into high-level signals that help you make decisions about your model's readiness.

---

## Why Aggregators Matter

Aggregators are the bridge between "debugging one conversation" and "shipping a production system."

| Feature | The Value of Aggregators |
| :--- | :--- |
| **Benchmarking** | Compare model versions or prompt iterations using a single, comparable number. |
| **Regression Detection** | Spot "tail" issues where 90% of cases are fine, but the worst 5% are significantly worse. |
| **CI/CD Thresholds** | Define strict performance gates (e.g., "Must have 95% pass rate to deploy"). |

---

## What you get by default

With the current **Eval API**, you typically don’t “pick aggregators” up front. Tally automatically computes a standard set of built-in aggregations for each eval so the results are immediately usable in CI and in reports.

### Do aggregations only work for single-turn?

No. Built-in aggregations are computed for every eval, including:

- **single-turn evals**: aggregated across dataset targets (turns/items)
- **multi-turn evals**: aggregated across conversations (each conversation contributes one result)
- **scorer evals**: aggregated across targets using the scorer’s output score

The most common aggregations you’ll look at are:

- **Pass rate**: the percentage of targets that passed a verdict policy.
- **Mean**: the average score across targets.
- **Percentiles** (p50/p75/p90/p95/p99): how the system behaves in the tail (robustness / worst-case behavior).
- **Distribution** (ordinal): category counts when an eval’s raw value is an ordinal label.

Example (reading eval summaries):

```ts
const summary = report.evalSummaries.get('Answer Relevance');
if (!summary) throw new Error('Missing summary');

console.log('mean', summary.aggregations.mean);
console.log('p95', summary.aggregations.percentiles.p95);
console.log('passRate', summary.aggregations.passRate);
```

---

## Custom aggregation (when you need it)

If you need a bespoke summary (e.g., “success rate by customer tier” or “average cost per successful run”), the most direct approach today is to **post-process the `EvaluationReport`** (e.g., group `perTargetResults` by metadata).

Tally does not currently expose a first-class “register a custom aggregator” hook on the container/evaluator API.

Tally also exports aggregator constructors (advanced):

```ts
import {
  createMeanAggregator,
  createPercentileAggregator,
  createPassRateAggregator,
} from '@tally-evals/tally/aggregators';
```

---

## Summary

Aggregators transform raw evaluation data into **actionable intelligence**. They ensure that your high-level decisions are backed by statistically significant evidence rather than a few cherry-picked examples.